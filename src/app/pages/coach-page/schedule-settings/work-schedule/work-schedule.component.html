<div class="work-schedule-container">
  <!-- Working hours settings -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Working Hours</mat-panel-title>
    </mat-expansion-panel-header>
    
    <form [formGroup]="workHoursForm">
      <div class="work-days">
        @for (day of weekDays; track day) {
          <mat-checkbox [formControlName]="day.toLowerCase()">
            {{day}}
          </mat-checkbox>
        }
      </div>

      <div class="work-hours">
        <mat-form-field appearance="outline">
          <mat-label>Start Time</mat-label>
          <input matInput type="time" formControlName="startTime">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>End Time</mat-label>
          <input matInput type="time" formControlName="endTime">
        </mat-form-field>
      </div>

      <div class="actions">
        <button mat-raised-button color="primary" (click)="saveWorkSchedule()">
          <mat-icon>save</mat-icon>
          Save Work Schedule
        </button>
      </div>
    </form>
  </mat-expansion-panel>

  <!-- Break management -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Regular Breaks</mat-panel-title>
    </mat-expansion-panel-header>

    <div class="breaks-list">
      @for (break of breaks; track break) {
        <mat-card class="break-item">
          <div class="break-info">
            <span>{{break.weekDay}}</span>
            <span>{{break.time}} ({{break.duration}} min)</span>
            <span>{{break.description}}</span>
          </div>
          <button mat-icon-button color="warn" (click)="removeBreak(break)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-card>
      }
    </div>

    <form [formGroup]="breakForm" (ngSubmit)="addBreak()">
      <div class="break-form">
        <mat-form-field appearance="outline">
          <mat-label>Day of Week</mat-label>
          <mat-select formControlName="weekDay">
            @for (day of weekDays; track day) {
              <mat-option [value]="day">{{day}}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Time</mat-label>
          <input matInput type="time" formControlName="time">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Duration (min)</mat-label>
          <input matInput type="number" formControlName="duration">
        </mat-form-field>

        <mat-form-field appearance="outline"> 
          <mat-label>Description</mat-label>
          <input matInput formControlName="description" placeholder="Example: Lunch">
        </mat-form-field>

        <button mat-fab extended color="primary" type="submit">
          Add Break
        </button>
      </div>
    </form>
  </mat-expansion-panel>
</div> 