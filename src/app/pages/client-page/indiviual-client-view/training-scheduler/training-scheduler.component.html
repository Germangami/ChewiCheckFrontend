<mat-card class="demo-inline-calendar-card">
  <mat-calendar [(selected)]="selected"></mat-calendar>
</mat-card>

<h1>{{currentClient?.first_name}} CURRENT CLIENT</h1>

<div class="trainings-section">
  @if (selected()) {
    <h2 class="date-header">{{getFormattedDate()}}</h2>

    <!-- Тренировки на выбранный день -->
    @if (getSelectedDaySessions().length > 0) {
      <div class="day-schedule">
        <p class="section-title">Your Training Sessions</p>
        @for (session of getSelectedDaySessions(); track session) {
          <mat-card class="session-card">
            <mat-card-content>
              <div class="session-info">
                <div class="time">
                  <mat-icon>schedule</mat-icon>
                  <span>{{session.time}}</span>
                </div>
                <div class="status">
                  <mat-icon>{{getStatusIcon(session.status)}}</mat-icon>
                  <span>{{session.status}}</span>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    } @else {
      <p class="no-sessions">No training sessions scheduled for this day</p>
      
      <div class="booking-form">
        <mat-form-field appearance="outline">
          <mat-label>Select time</mat-label>
          <mat-select [(ngModel)]="selectedTime">
            <mat-option>None</mat-option>
            @for (slot of freeSlots; track slot) {
              <mat-option [value]="slot">{{slot}}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <button mat-fab extended [disabled]="!selectedTime"
          (click)="bookSlot()">
          <mat-icon>done_all</mat-icon>
          Book Session
        </button>
      </div>
    }
  }
</div>